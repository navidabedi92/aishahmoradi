"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{8763:(e,a,s)=>{s.d(a,{Z:()=>i});var r=s(7437),t=s(8633),l=s(5208),c=s(2265);s(9088);var n=s(1444),o=s(1764);let i=e=>{let{isOpen:a,onClose:s}=e,[i,d]=(0,c.useState)(!0),[u,b]=(0,c.useState)("Organization"),[m,k]=(0,c.useState)(""),[h,f]=(0,c.useState)(""),[p,g]=(0,c.useState)([]),[x,N]=(0,c.useState)([]),w=(0,n.I0)();(0,c.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[a]),(0,c.useEffect)(()=>{a&&(0,l.I4)().then(e=>{(e=null==e?void 0:e.data).IsSuccessfull&&N(e=JSON.parse(e.Data))}).catch(e=>{console.log(e)})},[a]);let v=e=>{let a=[],s=/[A-Z]/.test(e),r=/[a-z]/.test(e),t=/\d/.test(e),l=/(_|[^\w])/.test(e);return e.length<6&&a.push("Password must be at least ".concat(6," characters long.")),s||a.push("Password must contain at least one uppercase letter."),r||a.push("Password must contain at least one lowercase letter."),t||a.push("Password must contain at least one number."),l||a.push("Password must contain at least one special character."),a},j=async e=>{e.preventDefault();let a=Object.fromEntries(new FormData(e.target).entries()),r=v(a.password);if(r.length>0){g(r);return}if(g([]),a.password!==a.passwordConfirm&&!i)return alert("Confirm password is not equal to password! try again");try{if(i)(0,l.TN)(a.email,a.password).then(e=>{if((e=null==e?void 0:e.data).IsSuccessfull){let a={Firstname:(e=JSON.parse(e.Data)[0]).Firstname,Lastname:e.Lastname,MemberID:e.MemberID,Type:e.Type};w(o._.setUserLogin({userData:a,login:!0})),s(),setTimeout(()=>{alert("You are now logged in.")},500)}else alert(" Email or Password is wrong")}).catch(e=>{alert("Please call to Support Center. Error: ".concat(e))});else{let e={};e.Type=a.role,e.Firstname=a.firstName.trim(),e.Email=a.email.trim(),e.Country=a.country,e.Username=a.email.trim(),("Athlete"==a.role||"Judge"==a.role)&&(e.Lastname=a.lastName.trim(),e.Birthday=a.birthday,e.IsMale=a.gender),"Judge"==a.role&&(e.IsHead=a.isHead),(0,l.NI)(e,a.password.trim()).then(e=>{e=null==e?void 0:e.data,t.MV.indexOf("true")>0&&(e=l.DS.resolveResponse(e,!1)),e.IsSuccessfull?s():alert("This Email is used by another person")}).catch(e=>{alert("Please call to Support Center. Error: ".concat(e))})}}catch(e){alert("Please call to Support Center. Error: ".concat(e))}};return a?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-20",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md h-full md:h-auto overflow-y-auto",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:i?"Login":"Sign Up"}),(0,r.jsxs)("form",{onSubmit:j,children:[!i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Role"}),(0,r.jsxs)("select",{name:"role",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,onChange:()=>b(event.target.value),children:[(0,r.jsx)("option",{value:"Organization",children:"Organization"}),(0,r.jsx)("option",{value:"Athlete",children:"Athlete"}),(0,r.jsx)("option",{value:"Judge",children:"Judge"})]})]}),"Judge"===u&&(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Is Judge Head?"}),(0,r.jsxs)("select",{name:"isHead",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,r.jsx)("option",{value:"true",children:"Yes"}),(0,r.jsx)("option",{value:"false",children:"No"})]})]})]}),("Athlete"===u||"Judge"===u)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),(0,r.jsx)("input",{name:"firstName",type:"text",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),(0,r.jsx)("input",{name:"lastName",type:"text",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Birthday"}),(0,r.jsx)("input",{name:"birthday",type:"date",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1 ",children:"Gender"}),(0,r.jsxs)("select",{name:"gender",className:"border rounded w-full  p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]})]})]}),"Organization"===u&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Name"}),(0,r.jsx)("input",{name:"firstName",type:"text",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Country"}),(0,r.jsx)("select",{name:"country",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:x.map(e=>(0,r.jsx)("option",{value:e.Name,children:e.Name},e.Name))})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,r.jsx)("input",{name:"email",type:"email",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Password"}),(0,r.jsx)("input",{name:"password",type:"password",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:m,onChange:e=>k(e.target.value)}),p.length>0&&(0,r.jsx)("ul",{className:"text-red-500 text-sm mt-1",children:p.map((e,a)=>(0,r.jsx)("li",{children:e},a))})]}),!i&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Confirm Password"}),(0,r.jsx)("input",{name:"passwordConfirm",type:"password",className:"border rounded w-full p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,value:h,onChange:e=>f(e.target.value)}),h!==m&&(0,r.jsx)("ul",{className:"text-red-500 text-sm mt-1",children:(0,r.jsx)("li",{children:"Confirm password is not equal to password! try again"},10)})]}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-300 w-full",children:i?"Login":"Sign Up"})]}),(0,r.jsxs)("p",{className:"mt-4 text-sm text-center",children:[i?"Don’t have an account? ":"Already have an account? ",(0,r.jsx)("button",{onClick:()=>{d(!i)},className:"text-blue-500 hover:underline",children:i?"Sign Up":"Login"})]}),(0,r.jsx)("button",{onClick:s,className:"mt-2 text-red-500 hover:underline",children:"Close"})]})}):null}},1764:(e,a,s)=>{s.d(a,{_:()=>o,y:()=>n});let{createSlice:r,configureStore:t}=s(2702),l={userData:{Firstname:null,Lastname:null,MemberID:null,Type:null},login:!1},c=r({name:"AiLogin",initialState:(()=>{{let e=localStorage.getItem("userLoginData");if(e){let{userData:a,login:s,timestamp:r}=JSON.parse(e);if(Date.now()-r<36e5)return{userData:a,login:s}}}return l})(),reducers:{setUserLogin(e,a){e.userData=a.payload.userData,e.login=a.payload.login,console.log(a.payload.login),localStorage.setItem("userLoginData",JSON.stringify({userData:a.payload.userData,login:a.payload.login,timestamp:Date.now()}))},clearUserLogin(e){e.userData=l.userData,e.login=!1,localStorage.removeItem("userLoginData")}}}),n=t({reducer:c.reducer}),o=c.actions},5208:(e,a,s)=>{s.d(a,{DS:()=>i,DY:()=>m,I4:()=>d,NI:()=>u,TN:()=>b,bP:()=>h,ok:()=>k}),s(7437);var r=s(8472),t=s(6881),l=s(8633);s(1838),s(4673);var c=s(1768),n=s(5478);s(9212);let o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";class i{static btoa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a="";for(let s=0,r,t=0,l=o;e.charAt(0|t)||(l="=",t%1);a+=l.charAt(63&s>>8-t%1*8)){if((r=e.charCodeAt(t+=3/4))>255)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");s=s<<8|r}return a}static atob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=e.replace(/=+$/,""),s="";a.length%4==1&&c.ZP.info("در ارتباط با سرور مشکلی پیش آمده است.");for(let e=0,r=0,t,l=0;t=a.charAt(l++);~t&&(r=e%4?64*r+t:t,e++%4)&&(s+=String.fromCharCode(255&r>>(-2*e&6))))t=o.indexOf(t);return s}static Utf8ArrayToStr(){let e,a,s,r,t,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(e="",s=l.length,a=0;a<s;)switch((r=l[a++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(r);break;case 12:case 13:e+=String.fromCharCode((31&r)<<6|63&l[a++]);break;case 14:e+=String.fromCharCode((15&r)<<12|(63&l[a++])<<6|(63&l[a++])<<0)}return e}static Enc(e){let a=e.length,s="",r=0;for(;r<a;){let a=e[r++];switch(a){case"a":s+="s";break;case"b":s+="6";break;case"c":s+="j";break;case"d":s+="E";break;case"e":s+="H";break;case"f":s+="3";break;case"g":s+="X";break;case"h":s+="p";break;case"i":s+="Y";break;case"j":s+="n";break;case"k":s+="U";break;case"l":s+="m";break;case"m":s+="g";break;case"n":s+="O";break;case"o":s+="c";break;case"p":s+="C";break;case"q":s+="2";break;case"r":s+="y";break;case"s":s+="T";break;case"t":s+="b";break;case"u":s+="5";break;case"v":s+="4";break;case"w":s+="1";break;case"x":s+="S";break;case"y":s+="t";break;case"z":s+="L";break;case"A":s+="h";break;case"B":s+="N";break;case"C":s+="R";break;case"D":s+="M";break;case"E":s+="w";break;case"F":s+="e";break;case"G":s+="k";break;case"H":s+="o";break;case"I":s+="Z";break;case"J":s+="8";break;case"K":s+="v";break;case"L":s+="W";break;case"M":s+="r";break;case"N":s+="G";break;case"O":s+="V";break;case"P":s+="z";break;case"Q":s+="9";break;case"R":s+="I";break;case"S":s+="K";break;case"T":s+="A";break;case"U":s+="q";break;case"V":s+="a";break;case"W":s+="x";break;case"X":s+="i";break;case"Y":s+="D";break;case"Z":s+="l";break;case"1":s+="Q";break;case"2":s+="7";break;case"3":s+="0";break;case"4":s+="u";break;case"5":s+="B";break;case"6":s+="J";break;case"7":s+="F";break;case"8":s+="f";break;case"9":s+="P";break;case"0":s+="d";break;default:s+=a}}return s}static Dec(e){let a=e.length,s="",r=0;for(;r<a;){let a=e[r++];switch(a){case"s":s+="a";break;case"6":s+="b";break;case"j":s+="c";break;case"E":s+="d";break;case"H":s+="e";break;case"3":s+="f";break;case"X":s+="g";break;case"p":s+="h";break;case"Y":s+="i";break;case"n":s+="j";break;case"U":s+="k";break;case"m":s+="l";break;case"g":s+="m";break;case"O":s+="n";break;case"c":s+="o";break;case"C":s+="p";break;case"2":s+="q";break;case"y":s+="r";break;case"T":s+="s";break;case"b":s+="t";break;case"5":s+="u";break;case"4":s+="v";break;case"1":s+="w";break;case"S":s+="x";break;case"t":s+="y";break;case"L":s+="z";break;case"h":s+="A";break;case"N":s+="B";break;case"R":s+="C";break;case"M":s+="D";break;case"w":s+="E";break;case"e":s+="F";break;case"k":s+="G";break;case"o":s+="H";break;case"Z":s+="I";break;case"8":s+="J";break;case"v":s+="K";break;case"W":s+="L";break;case"r":s+="M";break;case"G":s+="N";break;case"V":s+="O";break;case"z":s+="P";break;case"9":s+="Q";break;case"I":s+="R";break;case"K":s+="S";break;case"A":s+="T";break;case"q":s+="U";break;case"a":s+="V";break;case"x":s+="W";break;case"i":s+="X";break;case"D":s+="Y";break;case"l":s+="Z";break;case"Q":s+="1";break;case"7":s+="2";break;case"0":s+="3";break;case"u":s+="4";break;case"B":s+="5";break;case"J":s+="6";break;case"F":s+="7";break;case"f":s+="8";break;case"P":s+="9";break;case"d":s+="0";break;default:s+=a}}return s}static arrayBufferToBase64(e){var a="";if(e){for(var s=new Uint8Array(e),r=s.byteLength,t=0;t<r;t++)a+=String.fromCharCode(s[t]);return window.btoa(a)}}static arrayBufferToBase64V2(e){if(e)return btoa(String.fromCharCode(...new Uint8Array(e)))}static Reverse(e){return null==e?void 0:e.split("").reverse().join("")}static resolveResponse(e){let a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e){a&&(e=this.Reverse(e));let s=this.atob(e).split("").map(function(e){return e.charCodeAt(0)}),r=t.ZP.inflate(s);return JSON.parse(this.Utf8ArrayToStr(r))}}static checkEmpty(e){return null==e||void 0==e||""==e.trim()}static showNotification(e,a){n.ZP.open({message:e,description:a,placement:"top"})}}let d=()=>{let e="".concat(l.AT,"/AIS/FetchCountries");return r.Z.get(e,{headers:{WebSiteCode:l.b}})},u=(e,a)=>{let s="".concat(l.AT,"/AIS/RegisterSiteMember"),t=new FormData;return t.append("Data",JSON.stringify(e)),t.append("Password",a),r.Z.post(s,t,{headers:{WebSiteCode:l.b}})},b=(e,a)=>{let s="".concat(l.AT,"/AIS/LoginSiteMember"),t=new FormData;return t.append("Username",e),t.append("Password",a),r.Z.post(s,t,{headers:{WebSiteCode:l.b}})},m=()=>{let e="".concat(l.AT,"/AIS/FetchJudges");return r.Z.post(e,null,{headers:{WebSiteCode:l.b}})},k=(e,a)=>{let s="".concat(l.AT,"/AIS/AddOrganizationEventJudges"),t=new FormData;return t.append("EventID",e),t.append("JudgeID",a),r.Z.post(s,t,{headers:{WebSiteCode:l.b}})},h=e=>{let a="".concat(l.AT,"/AIS/FetchEventData"),s=new FormData;return s.append("EventID",e),r.Z.post(a,s,{headers:{WebSiteCode:l.b}})}},8633:(e,a,s)=>{s.d(a,{AT:()=>r,MV:()=>t,b:()=>l});let r="https://apilab.greendataware.com/api",t="&IsCompressed=false",l="ai"}}]);